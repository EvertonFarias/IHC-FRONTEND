<!-- header.component.html -->
<header>
  <div class="navbar">
    <div class="navbar-left">
      <img src="assets/img/logoihc.png" alt="Logo" class="logo">
    </div>

    <!-- Hamburger Menu for Mobile -->
    <button class="mobile-menu-btn" (click)="toggleMobileMenu()" [class.active]="showMobileMenu">
      <span></span>
      <span></span>
      <span></span>
    </button>

    <!-- Navigation Links -->
    <nav class="navbar-center" [class.mobile-active]="showMobileMenu">
      <a href="#" class="nav-link" (click)="showMobileMenu = false">Home</a>
      <a href="#" class="nav-link" (click)="showMobileMenu = false">Cartas</a>
    </nav>

    <div class="navbar-right">
      <!-- Search Box -->
      <div class="search-box">
        <input type="text" placeholder="Pesquisar...">
        <button class="search-button">ğŸ”</button>
      </div>

      <!-- Profile Container -->
      <div class="profile-container" *ngIf="authenticated">
        <img 
          [src]="(user$ | async)?.profilePicture || 'assets/img/avatar.png'" 
          alt="Avatar" 
          class="avatar"
          (click)="toggleProfileDropdown()"
          [class.active]="showProfileDropdown">
        
        <!-- Profile Dropdown -->
        <div class="profile-dropdown" [class.show]="showProfileDropdown">
          <div class="dropdown-header">
            <img 
              [src]="(user$ | async)?.profilePicture || 'assets/img/avatar.png'" 
              alt="Avatar" 
              class="dropdown-avatar">
            <div class="user-info" *ngIf="user$ | async as user">
              <span class="username">{{ user.login || 'UsuÃ¡rio' }}</span>
              <span class="user-email">{{ user.email }}</span>
            </div>
          </div>
          <hr class="dropdown-divider">
          <button class="dropdown-item" (click)="viewProfile()">
            <span class="icon">ğŸ‘¤</span>
            Ver Perfil
          </button>
          <button class="dropdown-item logout" (click)="logout()">
            <span class="icon">ğŸšª</span>
            Logout
          </button>
        </div>
      </div>

      <!-- Auth Buttons (when not authenticated) -->
      <app-auth-buttons *ngIf="!authenticated"></app-auth-buttons>
    </div>
  </div>
</header>